define((function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=13)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,a,c){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var s,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),o&&(d._scopeId=o),a?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=s):r&&(s=c?function(){r.call(this,this.$root.$options.shadowRoot)}:r),s)if(d.functional){d._injectStyles=s;var u=d.render;d.render=function(e,t){return s.call(t),u(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,s):[s]}return{exports:e,options:d}}i.d(t,"a",(function(){return n}))},1:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return o})),i.d(t,"d",(function(){return a}));var n=function(){return fetch("http://localhost:8080/portal/rest/client/listClients",{method:"GET"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))},r=function(e){return fetch("http://localhost:8080/portal/rest/client/addClient",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify(e)}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))},o=function(e){return fetch("http://localhost:8080/portal/rest/client/deleteClient/"+e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",credentials:"include"}).then((function(e){if(e&&e.ok)return e;throw new Error("Response code indicates a server error",e)}))},a=function(e,t){return fetch("http://localhost:8080/portal/rest/client/updateClient/"+t,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify(e)}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}},13:function(e,t,i){"use strict";i.r(t),i.d(t,"init",(function(){return x}));var n=i(1),r=function(){return fetch("http://localhost:8080/portal/rest/article/listArticles",{method:"GET"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))},o={data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"code article",align:"start",sortable:!0,value:"codeArticle"},{text:"client",value:"client.name",sortable:!0},{text:"designation",value:"designation",sortable:!0},{text:"prixUnitaireHT",value:"prixUnitaireHT",sortable:!0},{text:"prixTVA",value:"prixTVA",sortable:!0},{text:"prixUnitaireTTC",value:"prixUnitaireTTC",sortable:!0},{text:"Actions",value:"actions",sortable:!1}],data:[],desserts:[],loadingArticles:!0,editedIndex:-1,editedItem:{codeArticle:0,designation:"",prixUnitaireHT:0,prixTVA:0,prixUnitaireTTC:0,client:null},defaultItem:{codeArticle:0,designation:"",prixUnitaireHT:0,prixTVA:0,prixUnitaireTTC:0,client:null},selectableClients:[],openDrawer:!1}},computed:{formTitle:function(){return-1===this.editedIndex?"New Article":"Edit Article"}},created:function(){this.initialize()},methods:{initializeArticles:function(){var e=this;r().then((function(t){e.data=t,e.loadingArticles=!1}))},initializeClients:function(){var e=this;Object(n.c)().then((function(t){e.selectableClients=t}))},initialize:function(){var e=this;r().then((function(t){e.data=t,e.loadingArticles=!1})),Object(n.c)().then((function(t){e.selectableClients=t}))},createItem:function(){this.editedIndex=-1,this.openTimeTrackingDrawer()},editItem:function(e){this.editedIndex=e.idArticle,this.editedItem=Object.assign({},e),this.openTimeTrackingDrawer()},deleteItem:function(e){this.editedIndex=e.idArticle,this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e,t=this;(e=this.editedIndex,fetch("http://localhost:8080/portal/rest/article/deleteArticle/"+e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",credentials:"include"}).then((function(e){if(e&&e.ok)return e;throw new Error("Response code indicates a server error",e)}))).then((function(){t.initialize()})),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(e){var t,i,n=this,r={codeArticle:e.codeArticle,designation:e.designation,prixTVA:parseInt(e.prixTVA),prixUnitaireHT:parseInt(e.prixUnitaireHT),prixUnitaireTTC:parseInt(e.prixUnitaireTTC)};this.editedIndex>-1?(t=r,i=e.idArticle,fetch("http://localhost:8080/portal/rest/article/updateArticle/"+i,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify(t)}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))).then((function(){n.initializeArticles()})):function(e,t){return fetch("http://localhost:8080/portal/rest/article/addArticle/"+t,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify(e)}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}(r,e.client.id_client).then((function(){n.initializeArticles()})),this.closeTimeTrackingDrawer()},openTimeTrackingDrawer:function(){this.$refs.timeTrackingDrawer.setItem(this.editedItem),this.$refs.timeTrackingDrawer.open()},closeTimeTrackingDrawer:function(){this.$refs.timeTrackingDrawer.cancel()}}},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.data,loading:e.loadingArticles,"sort-by":"calories","loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("My CRUD")]),e._v(" "),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){return e.createItem()}}},[e._v("\n          New Article\n        ")]),e._v(" "),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),e._v(" "),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),e._v(" "),i("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("\n        mdi-pencil\n      ")]),e._v(" "),i("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v("\n        mdi-delete\n      ")])]}},{key:"no-data",fn:function(){return[i("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("\n        Reset\n      ")])]},proxy:!0}])}),e._v(" "),i("v-layout",{staticClass:"transparent"},[i("v-btn",{staticClass:"uiApplicationIconButton",attrs:{icon:""},on:{click:function(t){return e.openTimeTrackingDrawer()}}},[i("v-icon",{staticClass:"timeTrackingIcon"},[e._v("\n        mdi-clock\n      ")])],1)],1),e._v(" "),i("time-tracking-drawer",{ref:"timeTrackingDrawer",attrs:{clients:e.selectableClients,index:e.editedIndex},on:{"save-article-data":e.save}})],1)};a._withStripped=!0;var c=i(0),l=Object(c.a)(o,a,[],!1,null,null,null);l.options.__file="src/main/webapp/vue-app/PortletTwo/components/MyPortletVue.vue";var s=l.exports,d=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",{staticClass:"center"},[this._v("Liste des articles")]),this._v(" "),t("my-portlet-vue")],1)};d._withStripped=!0;var u=Object(c.a)({},d,[],!1,null,null,null);u.options.__file="src/main/webapp/vue-app/PortletTwo/components/PortletDashboard.vue";var p={"my-portlet-vue":s,"portlet-dashboard":u.exports,"time-tracking-drawer":i(3).a};for(var f in p)Vue.component(f,p[f]);Vue.use(Vuetify);var v=new Vuetify(eXo.env.portal.vuetifyPreset),m=eXo&&eXo.env.portal.language||"en",h=eXo.env.portal.context+"/"+eXo.env.portal.rest+"/i18n/bundle/locale.addon.VuetifySample-"+m+".json";function x(){exoi18n.loadLanguageAsync(m,h).then((function(e){Vue.createApp({template:"<portlet-dashboard />",vuetify:v,i18n:e},"#portlet_two","Portlet Editor Dashboard")}))}},3:function(e,t,i){"use strict";var n={props:{clients:{type:Array[Object],default:[]},index:{type:Number,require:!0,default:-1}},data:function(){return{editedItem:{codeArticle:0,designation:"",prixUnitaireHT:0,prixTVA:0,prixUnitaireTTC:0,client:null}}},computed:{formTitle:function(){return-1===this.index?"New Article":"Edit Article"}},methods:{cancel:function(){this.editedItem.codeArticle=0,this.editedItem.designation="",this.editedItem.prixUnitaireHT=0,this.editedItem.prixTVA=0,this.editedItem.prixUnitaireTTC=0,this.editedItem.client=null,this.$refs.timeTrackingDrawer.close()},open:function(){this.$refs.timeTrackingDrawer.open()},setItem:function(e){this.editedItem=e},onSubmit:function(){this.$emit("save-article-data",this.editedItem)}}},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("exo-drawer",{ref:"timeTrackingDrawer",attrs:{right:!e.$vuetify.rtl},on:{closed:e.cancel}},[i("template",{slot:"title"},[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),e._v(" "),i("template",{slot:"content"},[i("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("v-text-field",{attrs:{label:"Code Article"},model:{value:e.editedItem.codeArticle,callback:function(t){e.$set(e.editedItem,"codeArticle",t)},expression:"editedItem.codeArticle"}}),e._v(" "),i("v-text-field",{attrs:{label:"Designation"},model:{value:e.editedItem.designation,callback:function(t){e.$set(e.editedItem,"designation",t)},expression:"editedItem.designation"}}),e._v(" "),i("v-text-field",{attrs:{type:"number",label:"P rix Unitaire HT"},model:{value:e.editedItem.prixUnitaireHT,callback:function(t){e.$set(e.editedItem,"prixUnitaireHT",t)},expression:"editedItem.prixUnitaireHT"}}),e._v(" "),i("v-text-field",{attrs:{type:"number",label:"Prix TVA"},model:{value:e.editedItem.prixTVA,callback:function(t){e.$set(e.editedItem,"prixTVA",t)},expression:"editedItem.prixTVA"}}),e._v(" "),i("v-text-field",{attrs:{type:"number",label:"Prix Unitaire TTC"},model:{value:e.editedItem.prixUnitaireTTC,callback:function(t){e.$set(e.editedItem,"prixUnitaireTTC",t)},expression:"editedItem.prixUnitaireTTC"}}),e._v(" "),-1===e.index?i("v-combobox",{attrs:{items:e.clients,"item-text":"name","item-value":"id_client",clearable:"",label:"Client"},model:{value:e.editedItem.client,callback:function(t){e.$set(e.editedItem,"client",t)},expression:"editedItem.client"}}):e._e()],1)]),e._v(" "),i("template",{slot:"footer"},[i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancel}},[e._v("\n      Cancel\n    ")]),e._v(" "),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.onSubmit}},[e._v("\n      Save\n    ")])],1)],2)};r._withStripped=!0;var o=i(0),a=Object(o.a)(n,r,[],!1,null,null,null);a.options.__file="src/main/webapp/vue-app/PortletTwo/components/TimeTrackingDrawer.vue";t.a=a.exports}})}));